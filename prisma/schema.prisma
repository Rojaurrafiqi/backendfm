generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model rekam_medis_pasien {
  id                     Int            @id @default(autoincrement())
  no_rm                  Int?
  kitas                  String?
  no_kitas               String?
  nama_lengkap           String?
  tempat_lahir           String?
  tanggal_lahir          String?
  kelamin                String?
  kontak_pasien          String?
  golongan_darah         String?
  agama                  String?
  status_kawin           String?
  pendidikan             String?
  pekerjaan              String?
  id_pekerjaan           Int?
  alamat_pasien_provinsi String?
  alamat_pasien_kota     String?
  alamat_pasien_kec      String?
  alamat_pasien_desa     String?
  alamat_pasien_detail   String?
  nama_penanggungjawab   String?
  kontak_pj              String?
  alamat_pj_provinsi     String?
  alamat_pj_kota         String?
  alamat_pj_kec          String?
  alamat_pj_desa         String?
  alamat_pj_detail       String?
  published              Boolean?       @default(false)
  createdAt              DateTime?      @default(now())
  updatedAt              DateTime?      @updatedAt
  pasien_igd             pasien_igd[]
  pasien_ranap           pasien_ralan[]
  pasien_ralan           pasien_ranap[]
  resep                  resep[]
  kasir                  kasir[]
}

model pekerjaan {
  id             Int     @id @default(autoincrement())
  nama_pekerjaan String?
}

model agama {
  id         Int     @id @default(autoincrement())
  list_agama String?
}

model status_kawin {
  id                Int     @id @default(autoincrement())
  list_status_kawin String?
}

model pendidikan {
  id              Int     @id @default(autoincrement())
  list_pendidikan String?
}

model golongan_darah {
  id                  Int     @id @default(autoincrement())
  list_golongan_darah String?
}

model pasien_igd {
  id                                              Int                                               @id @default(autoincrement())
  pasien_rm                                       rekam_medis_pasien?                               @relation(fields: [id_pasien_rm], references: [id])
  id_pasien_rm                                    Int?
  tgl_masuk                                       String?
  jam_masuk                                       String?
  cara_masuk                                      String?
  asal_rujukan                                    String?
  alasan_rujukan                                  String?
  dokter_merujuk                                  String?
  kondisi_keluar_igd                              String?
  tanggal_keluar_igd                              String?
  jam_keluar_igd                                  String?
  pembayaran_igd                                  String?
  status                                          String?
  published                                       Boolean?                                          @default(false)
  createdAt                                       DateTime?                                         @default(now())
  updatedAt                                       DateTime?
  tindakan_igd                                    tindakan_igd[]
  obat_pasien_igd                                 obat_pasien_igd[]
  triase_pasien_igd                               triase_pasien_igd[]
  triase_tanda_vital_pasien_igd                   triase_tanda_vital_pasien_igd[]
  triase_anamnesa_pasien_igd                      triase_anamnesa_pasien_igd[]
  triase_pemeriksaan_fisik_pasien_igd             triase_pemeriksaan_fisik_pasien_igd[]
  triase_pemeriksaan_penunjang_pasien_igd         triase_pemeriksaan_penunjang_pasien_igd[]
  triase_ats_pasien_igd                           triase_ats_pasien_igd[]
  triase_planning_pasien_igd                      triase_planning_pasien_igd[]
  triase_permasalahan_yang_dikonsulkan_pasien_igd triase_permasalahan_yang_dikonsulkan_pasien_igd[]
  triase_kondisi_terakhir_pasien_igd              triase_kondisi_terakhir_pasien_igd[]
  asesmen_awal_pasien_igd                         asesmen_awal_pasien_igd[]
}

model tindakan_igd {
  id            Int        @id @default(autoincrement())
  pasien_igd    pasien_igd @relation(fields: [id_pasien_igd], references: [id], onDelete: Cascade)
  id_pasien_igd Int
  tindakan      String?
  jam_tindakan  String?
  catatan       String?
  createdAt     DateTime?  @default(now())
  updatedAt     DateTime?  @updatedAt
}

model list_tindakan_igd {
  id        Int       @id @default(autoincrement())
  tindakan  String?
  createdAt DateTime? @default(now())
  updatedAt DateTime? @updatedAt
}

model obat_pasien_igd {
  id            Int        @id @default(autoincrement())
  pasien_igd    pasien_igd @relation(fields: [id_pasien_igd], references: [id], onDelete: Cascade)
  id_pasien_igd Int
  obat          String?
  quantity      String?
  catatan       String?
  createdAt     DateTime?  @default(now())
  updatedAt     DateTime?  @updatedAt
}

model list_obat_pasien_igd {
  id        Int       @id @default(autoincrement())
  list_obat String?
  createdAt DateTime? @default(now())
  updatedAt DateTime? @updatedAt
}

model triase_pasien_igd {
  id            Int        @id @default(autoincrement())
  keluhan_utama String?
  pasien_igd    pasien_igd @relation(fields: [id_pasien_igd], references: [id], onDelete: Cascade)
  id_pasien_igd Int
  createdAt     DateTime?  @default(now())
  updatedAt     DateTime?  @updatedAt
}

model triase_tanda_vital_pasien_igd {
  id                     Int        @id @default(autoincrement())
  tekanan_darah          String?
  frekuensi_nadi         String?
  frekuensi_nafas        String?
  suhu                   String?
  sat_o2                 String?
  riwayat_alergi_makanan String?
  riwayat_alergi_obat    String?
  riwayat_alergi_lainya  String?
  berat_badan            String?
  tinggi_badan           String?
  pasien_igd             pasien_igd @relation(fields: [id_pasien_igd], references: [id], onDelete: Cascade)
  id_pasien_igd          Int
  createdAt              DateTime?  @default(now())
  updatedAt              DateTime?  @updatedAt
}

model triase_anamnesa_pasien_igd {
  id                          Int        @id @default(autoincrement())
  keluhan_utama               String?
  riwayat_perjalanan_penyakit String?
  riwayat_penyakit_terdahulu  String?
  riwayat_pemakaian_obat      String?
  riwayat_penyakit_keluarga   String?
  pasien_igd                  pasien_igd @relation(fields: [id_pasien_igd], references: [id], onDelete: Cascade)
  id_pasien_igd               Int
  createdAt                   DateTime?  @default(now())
  updatedAt                   DateTime?  @updatedAt
}

model triase_pemeriksaan_fisik_pasien_igd {
  id               Int        @id @default(autoincrement())
  mata             String?
  telinga          String?
  hidung           String?
  mulut            String?
  tenggorokan      String?
  leher            String?
  paru             String?
  jantung          String?
  abdomen          String?
  kandungan        String?
  kemaluan         String?
  exstremitas      String?
  status_lokalis   String?
  pemeriksaan_gigi String?
  pasien_igd       pasien_igd @relation(fields: [id_pasien_igd], references: [id], onDelete: Cascade)
  id_pasien_igd    Int
  createdAt        DateTime?  @default(now())
  updatedAt        DateTime?  @updatedAt
}

model triase_pemeriksaan_penunjang_pasien_igd {
  id                 Int        @id @default(autoincrement())
  jenis_pemeriksaan  String?
  diagnosa_sementara String?
  diagnosa_tambahan  String?
  pasien_igd         pasien_igd @relation(fields: [id_pasien_igd], references: [id], onDelete: Cascade)
  id_pasien_igd      Int
  createdAt          DateTime?  @default(now())
  updatedAt          DateTime?  @updatedAt
}

model triase_ats_pasien_igd {
  id                Int        @id @default(autoincrement())
  jalan_nafas       String
  pernafasan_dewasa String?
  pernafasan_anak   String?
  sirkulasi_dewasa  String?
  sirkulasi_anak    String?
  mental_status     String?
  skor_nyeri        String?
  assesment_triase  String?
  plan              String?
  pasien_igd        pasien_igd @relation(fields: [id_pasien_igd], references: [id], onDelete: Cascade)
  id_pasien_igd     Int
  createdAt         DateTime?  @default(now())
  updatedAt         DateTime?  @updatedAt
}

model triase_planning_pasien_igd {
  id            Int        @id @default(autoincrement())
  planning      String?
  pasien_igd    pasien_igd @relation(fields: [id_pasien_igd], references: [id], onDelete: Cascade)
  id_pasien_igd Int
  createdAt     DateTime?  @default(now())
  updatedAt     DateTime?  @updatedAt
}

model triase_permasalahan_yang_dikonsulkan_pasien_igd {
  id                            Int        @id @default(autoincrement())
  permasalahan_yang_dikonsulkan String?
  pasien_igd                    pasien_igd @relation(fields: [id_pasien_igd], references: [id], onDelete: Cascade)
  id_pasien_igd                 Int
  createdAt                     DateTime?  @default(now())
  updatedAt                     DateTime?  @updatedAt
}

model triase_kondisi_terakhir_pasien_igd {
  id                      Int        @id @default(autoincrement())
  keadaan_umum            String?
  kesadaran               String?
  tekanan_darah           String?
  frekuensi_nadi          String?
  frekuensi_nafas         String?
  temperature             String?
  dokter_penanggung_jawab String?
  pasien_igd              pasien_igd @relation(fields: [id_pasien_igd], references: [id], onDelete: Cascade)
  id_pasien_igd           Int
  createdAt               DateTime?  @default(now())
  updatedAt               DateTime?  @updatedAt
}

model asesmen_awal_pasien_igd {
  id                                                      Int        @id @default(autoincrement())
  kegawatan_pernafasan                                    String?
  kehilangan_tonus_otot                                   String?
  nyeri                                                   String?
  perlambatan_sirkulasi                                   String?
  faktor_pembangkit_gejala_fisik                          String?
  masalah_keperawatan_respon_pasien_terhadap_gejala       String?
  pelayanan_spiritual                                     String?
  perlu_didoakan                                          String?
  bimbingan_rohani                                        String?
  pendampingan_rohani                                     String?
  nama_orang_yang_ingin_dihubungi                         String?
  alamat_orang_yang_ingin_dihubungi                       String?
  hubungan_dengan_pasien                                  String?
  no_telpon_orang_yang_ingin_dihubungi                    String?
  rencana_perawatan_lanjutan                              String?
  ligkungan_disiapkan                                     String?
  perawat_di_rumah                                        String?
  fasilitasi_rs_homecare                                  String?
  asesmen_informasi_reaksi_pasien                         String?
  masalah_keperawatan_reaksi_pasien                       String?
  asesmen_informasi_reaksi_keluarga                       String?
  masalah_keperawatan_reaksi_keluarga                     String?
  dukungan_pelayanan_bagi_pasien                          String?
  kebutuhan_alternative                                   String?
  asesmen_informasi_faktor_resiko_keluarga_ditinggalkan   String?
  masalah_keperawatan_faktor_resiko_keluarga_ditinggalkan String?
  nama_petugas                                            String?
  ttd_petugas                                             String?
  pasien_igd                                              pasien_igd @relation(fields: [id_pasien_igd], references: [id], onDelete: Cascade)
  id_pasien_igd                                           Int
  createdAt                                               DateTime?  @default(now())
  updatedAt                                               DateTime?  @updatedAt
}

model form_default_igd {
  id        Int       @id @default(autoincrement())
  nama_form String?
  createdAt DateTime? @default(now())
  updatedAt DateTime? @updatedAt
}

model form_default_ranap {
  id        Int       @id @default(autoincrement())
  nama_form String?
  createdAt DateTime? @default(now())
  updatedAt DateTime? @updatedAt
}

model form_default_ralan {
  id        Int       @id @default(autoincrement())
  nama_form String?
  createdAt DateTime? @default(now())
  updatedAt DateTime? @updatedAt
}

model pasien_ranap {
  id               Int                 @id @default(autoincrement())
  pasien_rm        rekam_medis_pasien? @relation(fields: [id_pasien_rm], references: [id])
  id_pasien_rm     Int?
  tanggal_masuk    String?
  tanggal_keluar   String?
  kondisi_keluar   String?
  dokter           String?
  perawat          String?
  no_kamar         String?
  no_bad           String?
  pembayaran_ranap String?
  createdAt        DateTime?           @default(now())
  updatedAt        DateTime?           @updatedAt
}

model kamar_ranap {
  id           Int       @id @default(autoincrement())
  no_kamar     String?
  no_bad       String?
  tipe_kamar   String?
  status_kamar String?
  createdAt    DateTime? @default(now())
  updatedAt    DateTime? @updatedAt
}

model tipe_kamar_ranap {
  id        Int       @id @default(autoincrement())
  tipe      String?
  createdAt DateTime? @default(now())
  updatedAt DateTime? @updatedAt
}

model obat {
  id                   Int              @id @default(autoincrement())
  nama_obat            String?
  kategori_obat        String?
  deskripsi_obat       String?
  dosis_obat           String?
  efek_samping         String?
  peringatan           String?
  instruksi_penggunaan String?
  createdAt            DateTime?        @default(now())
  updatedAt            DateTime?        @updatedAt
  stok_obat            stok_obat[]
  penjualan_obat       penjualan_obat[]
  resep                resep[]
  resep_umum           resep_umum[]
}

model stok_obat {
  id                 Int       @id @default(autoincrement())
  obat_data          obat?     @relation(fields: [id_obat], references: [id], onDelete: Cascade)
  id_obat            Int?
  jumlah_stok        String?
  harga_beli         String?
  harga_jual         String?
  tanggal_kadaluarsa String?
  tanggal_penerimaan String?
  lokasi_penyimpanan String?
  batas_minimum_stok String?
  status_stok        String?
  catatan            String?
  createdAt          DateTime? @default(now())
  updatedAt          DateTime? @updatedAt
}

model penjualan_obat {
  id                   Int       @id @default(autoincrement())
  obat_data            obat?     @relation(fields: [id_obat], references: [id], onDelete: Cascade)
  id_obat              Int?
  jumlah               String?
  harga_satuan         String?
  diskon               String?
  total_harga          String?
  tanggal_penjualan    String?
  informasi_pembayaran String?
  metode_pembayaran    String?
  createdAt            DateTime? @default(now())
  updatedAt            DateTime? @updatedAt
}

model resep {
  id                   Int                 @id @default(autoincrement())
  obat_data            obat                @relation(fields: [id_obat], references: [id], onDelete: Cascade)
  id_obat              Int
  pasien_rm            rekam_medis_pasien? @relation(fields: [id_pasien_rm], references: [id])
  id_pasien_rm         Int?
  dokter               dokter?             @relation(fields: [id_dokter], references: [id])
  id_dokter            Int?
  tanggal_resep        String?
  dosis                String?
  frekuensi            String?
  instruksi_penggunaan String?
  durasi_obat          String?
  jumlah               String?
  status_resep         String?
  createdAt            DateTime?           @default(now())
  updatedAt            DateTime?           @updatedAt
}

model resep_umum {
  id                   Int       @id @default(autoincrement())
  obat_data            obat      @relation(fields: [id_obat], references: [id], onDelete: Cascade)
  id_obat              Int
  nama_dokter          String?
  nama_pasien          String?
  tanggal_resep        String?
  dosis                String?
  frekuensi            String?
  instruksi_penggunaan String?
  durasi_obat          String?
  jumlah               String?
  status_resep         String?
  createdAt            DateTime? @default(now())
  updatedAt            DateTime? @updatedAt
}

model pasien_ralan {
  id                   Int                 @id @default(autoincrement())
  pasien_rm            rekam_medis_pasien? @relation(fields: [id_pasien_rm], references: [id])
  id_pasien_rm         Int?
  poliklinik_ralan     poliklinik?         @relation(fields: [id_poli], references: [id])
  id_poli              Int?
  jadwal_poliklinik    jadwal_poliklinik?  @relation(fields: [id_jadwal_poliklinik], references: [id])
  id_jadwal_poliklinik Int?
  jenis_pembayaran     pembayaran?         @relation(fields: [id_pembayaran], references: [id])
  id_pembayaran        Int?
  dokter_data          dokter?             @relation(fields: [id_dokter], references: [id])
  id_dokter            Int?
  jenis_pasien         String?
  deposit              String?
  catatan              String?
  jenis_konsultasi     String?
  no_antrian           String?
  createdAt            DateTime?           @default(now())
  updatedAt            DateTime?           @updatedAt
  tipe_pasien          tipe_pasien?        @relation(fields: [tipe_pasienId], references: [id])
  tipe_pasienId        Int?
}

model poliklinik {
  id                Int                 @id @default(autoincrement())
  nama_poliklinik   String?
  createdAt         DateTime?           @default(now())
  updatedAt         DateTime?           @updatedAt
  jadwal_poliklinik jadwal_poliklinik[]
  pasien_ralan      pasien_ralan[]
}

model jadwal_poliklinik {
  id              Int            @id @default(autoincrement())
  poliklinik_data poliklinik?    @relation(fields: [id_poli], references: [id])
  id_poli         Int?
  hari            nama_hari?     @relation(fields: [id_hari], references: [id])
  id_hari         Int?
  dokter_data     dokter?        @relation(fields: [id_dokter], references: [id])
  id_dokter       Int?
  jam             String?
  catatan         String?
  createdAt       DateTime?      @default(now())
  updatedAt       DateTime?      @updatedAt
  pasien_ralan    pasien_ralan[]
}

model pembayaran {
  id               Int            @id @default(autoincrement())
  jenis_pembayaran String?
  createdAt        DateTime?      @default(now())
  updatedAt        DateTime?      @updatedAt
  pasien_ralan     pasien_ralan[]
}

model tipe_pasien {
  id                Int            @id @default(autoincrement())
  jenis_tipe_pasien String?
  createdAt         DateTime?      @default(now())
  updatedAt         DateTime?      @updatedAt
  pasien_ralan      pasien_ralan[]
}

model nama_hari {
  id                Int                 @id @default(autoincrement())
  list_nama_hari    String?
  createdAt         DateTime?           @default(now())
  updatedAt         DateTime?           @updatedAt
  jadwal_poliklinik jadwal_poliklinik[]
}

model users {
  id            Int       @id @default(autoincrement())
  name          String?
  email         String?
  password      String?
  jabatan       String?
  status        String?
  jenis_kelamin String?
  refresh_token String?
  createdAt     DateTime? @default(now())
  updatedAt     DateTime? @updatedAt
  dokter        dokter[]
}

model jabatan {
  id           Int       @id @default(autoincrement())
  nama_jabatan String?
  createdAt    DateTime? @default(now())
  updatedAt    DateTime? @updatedAt
}

model dokter {
  id                Int                 @id @default(autoincrement())
  user_data         users?              @relation(fields: [id_user], references: [id])
  id_user           Int?
  nama_dokter       String?
  jenis_kelamin     String?
  tanggal_lahir     String?
  tempat_lahir      String?
  spesialis         String?
  sub_spesialis     String?
  nomor_hp          String?
  alamat            String?
  email             String?
  createdAt         DateTime?           @default(now())
  updatedAt         DateTime?           @updatedAt
  resep             resep[]
  jadwal_poliklinik jadwal_poliklinik[]
  pasien_ralan      pasien_ralan[]
}

model Barang {
  id_barang           Int       @id
  grup                Int       @default(1) // 1 = Gudang Farmasi, 2 = Gudang Umum
  id_bpjs             String    @default("-")
  id_kategori         Int
  nama_barang         String?
  nama_alias          String    @default("-")
  nama_barang_lengkap String?
  no_batch            String    @default("0")
  barcode             String    @default("-")
  sumber_brg          Int       @default(0) // 1 = Dibeli, 2 = Diproduksi Sendiri, 3 = Titipan
  id_produsen         Int
  isasset             Int       @default(0) // 1 = Asset, 0 = Tidak
  jenis_asset         Int       @default(0) // 1 = Asset Tetap, 2 = Asset Bergerak
  iscontrolstock      Int       @default(1)
  isdijual            Int       @default(1)
  id_jenis            Int       @default(10)
  id_bentuk           Int       @default(10)
  kandungan_isi       Float     @default(0.00)
  kandungan_satuan    String?
  kemasan             String?
  kemasan_isi         Int       @default(0)
  kemasan_satuan      String?
  hpp_awal            Float     @default(0.00) // HPP Satuan Awal Barang
  harga_dasar         Float     @default(0.00) // Untuk barang titipan
  tax                 String    @default("N-T")
  isresep             Int       @default(0)
  hrg_jual1           Float     @default(0.00000000)
  pcn_jual1           Float     @default(0.00)
  hrg_jual2           Float     @default(0.00000000)
  pcn_jual2           Float     @default(0.00)
  hrg_jual3           Float     @default(0.00000000)
  pcn_jual3           Float     @default(0.00)
  sts_account_setup   Int       @default(0)
  acc_asset           String?
  acc_hpp_biaya       String?
  acc_income          String?
  keterangan          String    @default("-")
  isused              Int       @default(1)
  user_created        String?
  date_created        DateTime?
  user_modified       String?
  date_modified       DateTime?
  catatan             String    @default("-")
  sts_barang          Int       @default(0)
  sts_ada             Int       @default(1)
  sts_obat            Int       @default(0) // 0 = Default, 1 = Obat Dalam, 2 = Obat Luar
  id_gol              Int?
}

// ketiga ini ikut punya klkdta
// bikin database barang
// bikin database stok_barang
// bikin database kasir

model kasir {
  id                Int                 @id @default(autoincrement())
  pasien_rm         rekam_medis_pasien? @relation(fields: [id_pasien_rm], references: [id])
  id_pasien_rm      Int?
  metode_pembayaran String?
  item              String?
  quantity          String?
  harga_satuan      String?
  total_harga       String?
  diskon            String?
  status_pembayaran String?
  keterangan        String?
  kirim_apotek      Boolean?
  createdAt         DateTime?           @default(now())
  updatedAt         DateTime?           @updatedAt
}
